Код ревью
=========

* [Колесо проверки реквестов](code-review-wheel/README.md)

* [Порядок проверки пулл реквеста](#Порядок-проверки-пулл-реквеста)

* [Когда звать фронтового руководителя](#Когда-звать-фронтового-руководителя)

## Порядок проверки пулл реквеста

:warning: Раздел является дополнением к [общим правилам компании](../../../code-review/README.md) :warning:

Для оптимизации проверок, шаринга знаний и пропускания наименьшего количества ошибок, во ВРИНе у фронтендеров
организована круговая проверка PR с разбивкой на зоны ответственности. Что это значит:

1. За каждым репозиторием организации (https://github.com/abak-press) назначен минимум 1 ответственный
   фронтенд-разработчик
   (см. [Список ответственных за репозитории](../common-functionality/README.md#Список-ответственных-за-репозитории)).
   Если в списке не указан какой-либо репозиторий, то ответственным за него является руководитель отдела.

2. За каждым фронтенд-разработчиком закреплен его *проверяющий* - другой фронтенд-разработчик. Проверяющие меняются
   раз в месяц. Найти своего проверяющего и сроки его полномочий можно в
   [колесe проверки реквестов](code-review-wheel/README.md).

3. В пулл реквест необходимо звать своего *проверяющего* и одного из ответственных за репозиторий, в который отправлен
   пулл реквест. Утверждает ПР ответственный за репозиторий.

Срок первой реакции проверяющих и утверждающих - **24 часа**.

**В тех случаях, когда бэкэнд-разработчик задевает вьюхи или другие фронтовые части, схема проверки следующая:**
- Проверяющий - любой фронтэнд разработчик (по ситуации).
- Утверждающий - ответственный за репозиторий фронтэнд разработчик.

В любой реквест, по желанию любого участника можно звать дополнительных людей, в т.ч. руководителя отдела если это имеет
смысл.

Если реквест очень срочный и ваш проверяющий или утверждающий не могут посмотреть его прямо сейчас, то необходимо найти
замену - любого другого фронтенд-разработчика отдела, и в комментариях в пулл реквесте обязательно сообщить о том, что
была произведена замена утверждающего/проверяющего так как реквест очень срочный, чтобы проверяющие/утверждающие
смогли, хотя-бы постфактум - после мерджа, ознакомиться с реквестом.


## Когда звать фронтового руководителя

В ряде случаев возникает необходимость звать руководителя группы фронт-энд разработки в реквесты.

- **Задачи после проектирования, где, помимо ОКа, есть коммент, что надо звать в реквест.**
Если есть мнение, что задача достаточно сложная/важная и руководитель группы фронтов оставил коммент,
что его надо позвать в реквест по этой задаче.

- **Любые задачи с крупным рефакторингом**
Необходимость проверки таких реквестов возникает потому, что сам по себе крупный рефакторинг не проектировался
(иначе бы попал под пункт 1. Это, в свою очередь, создает вопрос правильно ли он сделан, так как нет смысла убирать
один тех.долг, чтобы создать другой.

- **Если в реквесте спорный вопрос, который не могут решить на протяжении двух дней**
Чтобы не тормозить задачу еще дольше, руководитель приходит и решает спор.

- **Если задача делалась значительно дольше времени, чем планировалось (+2 дня).**
Если задача делалась значительно дольше времени, чем планировалось, значит задача не такая простая, какой её оценили
на этапе планирования. В таком случае решение попадает в определенную зону риска. Задачу могли плохо реализовать,
либо она настолько сложная, что ей требовалось проектирование.

- **Любое внедрение новых решений, которые каким-то образом не были спроектированы**
Сюда входит внедрение любых решений, которые “сделают разработку лучше/проще/дешевле”. Любое добавление каких-то
сторонних компонентов итд итп. Любое изменение межпроектных стилей/кода.

- **Любая другая непонятная ситуация**

По умолчанию на проверку реквестов, соответствующих перечисленным требованиям, зовёт разработчик, сделавший реквест.
Но также может призвать и тот, кто обладает правами мержа в соответствуеющий репозиторий.
